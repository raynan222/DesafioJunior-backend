FROM python:3.9.13-slim

RUN apt-get update
RUN apt-get install -y locales locales-all
ENV LC_ALL en_US.UTF-8
ENV LANG en_US.UTF-8
ENV LANGUAGE en_US.UTF-8

RUN pip install poetry

COPY ./poetry.lock .
COPY ./pyproject.toml .

WORKDIR $APP_PATH

RUN poetry config virtualenvs.create false
RUN poetry install

COPY . ../

RUN ls